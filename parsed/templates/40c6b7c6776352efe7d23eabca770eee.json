{"components/category/__sidebar":"<center><a href=\"{{#each (limit breadcrumbs 2)}}{{#if @last}}{{url}}{{/if}}{{/each}}\"><img src=\"\" id=\"categoryLogo\"/></a></center>\n<script>\nfor(i = 0; i < categories.length; i++){\n\tif(categories[i].name == '{{#each (limit breadcrumbs 2)}}{{#if @last}}{{name}}{{/if}}{{/each}}'){\n\t\t$(\"#categoryLogo\").attr('src',categories[i].image.replace('{:size}','600x600'));\n\t}\n}\n</script>\n<div class=\"leftSearch\" onclick=\"showFilters('all');\"><span class=\"mobileOnly hideFilters\">HIDE FILTERS</span><span class=\"mobileOnly showFilters\">SHOW FILTERS</span><span class=\"mobileHide\">FILTER BY:</span></div>\n{{> components/faceted-search/index category}}\n\n\n\n<div class=\"categoryId\">Category #{{category.id}}</div>\n\n<center><div style=\"width: 160px; height: 600px; margin-top: 46px; margin-bottom: 14px;\" class=\"mobileHide\">\n\n<!-- Conversant Media 120x600 and 160x600 SkyScraper CODE for ToyWiz.com -->\n<script type=\"text/javascript\">var vclk_options = {sid:18460,media_id:3,media_type:7,version:\"1.4\",secure:\"on\"};</script><script class=\"vclk_pub_code\" type=\"text/javascript\" src=\"https://secure.cdn.fastclick.net/js/adcodes/pubcode.min.js?sid=18460&media_id=3&media_type=7&version=1.4&exc=1\"></script><noscript><a href=\"https://secure.fastclick.net/w/click.here?sid=18460&m=3&c=1\" target=\"_blank\"><img src=\"https://secure.fastclick.net/w/get.media?sid=18460&m=3&tp=7&d=s&c=1&vcm_acv=1.4\" width=\"160\" height=\"600\" border=\"1\"></a></noscript>\n<!-- Conversant Media 120x600 and 160x600 SkyScraper CODE for ToyWiz.com -->\n\n</div></center>\n","components/faceted-search/index":"{{#if selected.items}}\n<div class=\"filterRemove\">\n\t{{#each selected.items}}\n\t<a href=\"{{url}}\" rel=\"nofollow\"><li>{{title}} <span>&#215;</span></li></a>\n\t{{/each}}\n\t<a href=\"{{selected.remove_all_url}}\"><li>Clear All<span>&#215;</span></li></a>\n</div>\n{{/if}}\n<div class=\"leftFilters\">\n\t{{#each facets}}\n\t{{#if title \"==\" \"Arrival Date\"}}\n\t{{else}}\n\t{{#if items.length \">\" \"1\"}}\n\t<div id=\"filter{{#if title \"==\" \"Product Type\"}}Type{{else}}{{title}}{{/if}}\">\n\t<div class=\"filterHeader\" id=\"filter-header-{{title}}\" data-count=\"{{items.length}}\"><span id=\"filter-title-{{facet}}\">{{title}}</span><div id=\"\" class=\"filterHeaderTriangle\">&#9654;</div></div>\n\t<div class=\"filterBlock\">\n\t\t<ul{{#if title \"==\" \"Status\"}} id=\"statusFilter\"{{/if}}>\n\t\t{{#each items}}\n\t\t\t<a href=\"{{url}}\" class=\"filterline\" rel=\"nofollow\"><li><span class=\"filter-{{#if selected}}selected{{else}}option{{/if}}\">{{title}} ({{count}})</span></li></a>\n\t\t{{/each}}\n\t\t</ul>\n\t</div>\n\t</div>\n\t<script>\n\t$(\".filterline\").each(function(i,obj) {\n\t\tif(obj.href.indexOf('+-') > 0){\n\t\t\tobj.href = obj.href.replace('+-','%2B-');\n\t\t}\n\t});\n\t</script>\n\t{{/if}}\n\n\t{{#if title \"==\" \"Filter\"}}\n\t\t<script>\n\t\t{{#each (limit items 1)}}\n\t\tvar filterTitle = '{{title}}';\n\t\t{{/each}}\n\t\t$(\"#filter-title-{{facet}}\").html(filterTitle.substring(0, filterTitle.indexOf('=')));\n\t\t</script>\n\t{{/if}}\n\t{{/if}}\n\n\t{{#if title \"==\" \"Other\"}}\n\t\t<script>\n\t\tvar html = '';\n\t\t{{#each items}}\n\t\t\thtml += '<a href=\"{{url}}\" rel=\"nofollow\"><li><span class=\"filter-{{#if selected}}selected{{else}}option{{/if}}\">{{title}} ({{count}})</span></li></a>';\n\t\t{{/each}}\n\t\t//$(\"#statusFilter\").html($(\"#statusFilter\").html() + html);\n\t\t</script>\n\t{{/if}}\n\n\t{{/each}}\n</div>\n\n<script>\nif(window.location.toString().indexOf(\"magic-the-gathering\") > 0){\n\t$(\"#filterSeries\").remove().insertAfter($(\"#filterFilter\"));\n\t$(document).ready(fireWhenReady('Series','open'));\n}\n\n$(document).on('click', '.filterHeader', function(){\n\tvar div = $(this).next();\n\tvar arrow = $(this).children('div');\n\tvar facet = $(this).attr('id').replace('filter-header-','');\n\n\tif($(div).css('display') == 'block'){\n\t\t$(div).css('display','none');\n\t\t$(arrow).removeClass('filterHeaderTriangle-rotate');\n\t} else {\n\t\t$(div).css('display','block');\n\t\t$(arrow).addClass('filterHeaderTriangle-rotate');\n\t}\n\n\tif($(this).attr('data-count') == \"15\"){\n\t\t$(div).html('<div class=\"filterLoading\">Loading...</div>');\n\t\tgetFilters(facet,'open');\n\t}\n});\n\nfunction fireWhenReady(facet,state) {\n\tif(typeof getFilters == 'function'){\n\t\tgetFilters(facet,state);\n\t} else {\n\t\tsetTimeout(function(){fireWhenReady(facet,state);}, 100);\n\t}\n}\n\nvar showFilter = new Array();\nvar filterCount = new Array();\n\n$('#filter-header-Status').trigger('click');\n</script>\n<script>\n$(document).ready(fireWhenReady('Filter','closed'));\n</script>\n\n\n\n<script>\nfunction getParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nvar html = document.getElementById('facetedSearch').innerHTML;\nif(getParameterByName('search_query')){\n\thtml = html.replace(new RegExp(getParameterByName('search_query').replace(/\\+/g, \"\\\\+\"), 'g'), getParameterByName('search_query').replace(/\\+/g, \"%2B\"));\n}\ndocument.getElementById('facetedSearch').innerHTML = html;\n\ndocument.getElementById('min_price').value = getParameterByName('min_price');\ndocument.getElementById('max_price').value = getParameterByName('max_price');\n</script>\n<script>\nvar keywords = document.getElementsByName('keywords')[0].getAttribute('content').split(',');\nvar\tfilterCount   = 0;\nfor(i = 0; i < keywords.length; i++){\n\tif(keywords[i].substring(0, 6) == 'filter'){\n\t\tfilterCount++;\n\t\tfilter = keywords[i].substring(6, 100);\n\t\tdocument.getElementById('filter' + filter).style.display = 'block';\n\t\t//$('#filter-header-' + filter).trigger('click');\n\t\t//$(document).ready(fireWhenReady(keywords[i].substring(6, 100)));\n\t}\n}\nif(filterCount == 0){\n//\t$(\".filterBlock\").css('display','block');\n}\n\nfor(i = 0; i < showFilter.length; i++){\n\ttoggleFilters(showFilter[i],filterCount[i])\n}\n</script>\n"}
